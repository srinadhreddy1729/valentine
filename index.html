<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine ¬∑ escape 20px+</title>

<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
}

body{
  min-height:100vh;
  background:radial-gradient(circle at 40% 30%, #ffd9e6, #ffadc6);
  font-family:'Quicksand',sans-serif;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
  overflow:hidden;
}

/* Floating symbols */
.fall{
  position:absolute;
  top:-60px;
  animation:fall linear forwards;
  pointer-events:none;
  z-index:1;
  user-select:none;
}

@keyframes fall{
  to{
    transform:translateY(110vh) rotate(360deg);
    opacity:0;
  }
}

/* Card */
.valentine-card{
  width:620px;
  max-width:94vw;
  background:rgba(255,245,250,0.85);
  backdrop-filter:blur(15px);
  border-radius:60px;
  box-shadow:0 30px 50px rgba(200,100,140,0.4);
  padding:2.8rem 1.5rem;
  text-align:center;
  position:relative;
  z-index:10;
}

h1{
  font-size:2.4rem;
  color:#93264b;
  margin-bottom:2.2rem;
}

.button-swarm{
  position:relative;
  height:120px;
}

.btn{
  position:absolute;
  border:none;
  padding:16px 44px;
  border-radius:80px;
  font-size:1.4rem;
  font-weight:700;
  cursor:pointer;
  border:2px solid white;
  white-space:nowrap;
}

/* First YES */
#yesBtn{
  right:25px;
  top:50%;
  transform:translateY(-50%);
  background:linear-gradient(145deg,#ff4d6d,#e63256);
  color:white;
}

/* First NO */
#noBtn{
  left:25px;
  top:50%;
  transform:translateY(-50%);
  background:#ffb7c5;
  color:#491d2b;
  transition:left 0.1s linear, top 0.1s linear;
}

/* Second buttons */
#yesBtn2{
  right:25px;
  top:50%;
  transform:translateY(-50%);
  background:linear-gradient(145deg,#ff4d6d,#e63256);
  color:white;
}

#noBtn2{
  left:25px;
  top:50%;
  transform:translateY(-50%);
  background:#ffb7c5;
  color:#491d2b;
  transition:left 0.1s linear, top 0.1s linear;
}

.reveal{
  display:none;
  margin-top:2rem;
  animation:pop 0.5s ease forwards;
}

@keyframes pop{
  from{opacity:0;transform:scale(0.7);}
  to{opacity:1;transform:scale(1);}
}

.couple{
  font-size:4rem;
}

.love-text{
  font-size:1.8rem;
  font-weight:700;
  color:#982b52;
  margin-top:1rem;
}
</style>
</head>
<body>

<div class="valentine-card">

  <!-- FIRST QUESTION -->
  <div id="card1">
    <h1>Will you be my Valentine? üíå</h1>
    <div class="button-swarm" id="swarm1">
      <button class="btn" id="noBtn">No üòò</button>
      <button class="btn" id="yesBtn">Yes üíñ</button>
    </div>
  </div>

  <!-- SECOND QUESTION -->
  <div id="card2" style="display:none;">
    <h1>Will you marry me? üíç</h1>
    <div class="button-swarm" id="swarm2">
      <button class="btn" id="noBtn2">No üòÖ</button>
      <button class="btn" id="yesBtn2">Yes üíç</button>
    </div>
  </div>

  <!-- FINAL MESSAGE -->
  <div class="reveal" id="finalMessage">
    <div class="couple">üíë‚ú®üíñ</div>
    <div class="love-text">
      Forever starts today üíçüíû <br>
      You & Me ‚Äì Always Together ‚ù§Ô∏è
    </div>
  </div>

</div>

<script>
(function(){

let answered1 = false;
let answered2 = false;

function enableEscape(noBtn, swarm){

  function moveAway(cursorX, cursorY){

    const btnRect = noBtn.getBoundingClientRect();
    const swarmRect = swarm.getBoundingClientRect();

    let dx = (btnRect.left + btnRect.width/2) - cursorX;
    let dy = (btnRect.top + btnRect.height/2) - cursorY;

    const length = Math.hypot(dx, dy);
    if(length === 0) return;

    dx /= length;
    dy /= length;

    const MOVE_DISTANCE = 45;

    let newLeft = btnRect.left + dx * MOVE_DISTANCE;
    let newTop  = btnRect.top  + dy * MOVE_DISTANCE;

    const minLeft = swarmRect.left + 5;
    const maxLeft = swarmRect.right - btnRect.width - 5;
    const minTop  = swarmRect.top + 5;
    const maxTop  = swarmRect.bottom - btnRect.height - 5;

    newLeft = Math.max(minLeft, Math.min(maxLeft, newLeft));
    newTop  = Math.max(minTop, Math.min(maxTop, newTop));

    noBtn.style.left = (newLeft - swarmRect.left) + "px";
    noBtn.style.top  = (newTop - swarmRect.top) + "px";
    noBtn.style.transform = "none";
  }

  document.addEventListener("mousemove", function(e){
    const rect = noBtn.getBoundingClientRect();
    const dist = Math.hypot(
      e.clientX - (rect.left + rect.width/2),
      e.clientY - (rect.top + rect.height/2)
    );
    if(dist < 120){
      moveAway(e.clientX, e.clientY);
    }
  });

  noBtn.addEventListener("mousedown", function(e){
    e.preventDefault();
    moveAway(e.clientX, e.clientY);
  });

  noBtn.addEventListener("touchstart", function(e){
    e.preventDefault();
    const touch = e.touches[0];
    moveAway(touch.clientX, touch.clientY);
  });
}

/* Enable escape for both NO buttons */
enableEscape(
  document.getElementById("noBtn"),
  document.getElementById("swarm1")
);

enableEscape(
  document.getElementById("noBtn2"),
  document.getElementById("swarm2")
);

/* First YES */
document.getElementById("yesBtn").onclick = function(){
  answered1 = true;
  document.getElementById("card1").style.display="none";
  document.getElementById("card2").style.display="block";
};

/* Second YES */
document.getElementById("yesBtn2").onclick = function(){
  answered2 = true;
  document.getElementById("card2").style.display="none";
  document.getElementById("finalMessage").style.display="block";
};

/* Floating hearts */
const symbols = ["üíñ","üíï","üíò","üå∏","üåπ","üíû","ü•∞"];

setInterval(function(){
  const el = document.createElement("div");
  el.className = "fall";
  el.innerHTML = symbols[Math.floor(Math.random()*symbols.length)];
  el.style.left = Math.random()*100 + "vw";
  el.style.animationDuration = (Math.random()*4+4)+"s";
  el.style.fontSize = (Math.random()*25+18)+"px";
  document.body.appendChild(el);
  setTimeout(()=>el.remove(),8000);
},300);

})();
</script>

</body>
</html>
